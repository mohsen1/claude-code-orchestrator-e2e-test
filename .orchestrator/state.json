{
  "version": 1,
  "issue": {
    "number": 421,
    "title": "Build SplitSync (Expense Sharing App)",
    "body": "# Product Requirements Document: SplitSync (Expense Sharing App)\n**Version:** 2.0 (Enhanced for Robustness & CI/CD)\n**Target:** Production-Ready MVP\n\n---\n\n## Tech Stack\n- Next.js 14 (App Router)  \n- TypeScript (strict mode)\n- SQLite + better-sqlite3\n- Drizzle ORM\n- Zod validation\n- NextAuth.js v5\n- Socket.io\n- Tailwind + shadcn/ui\n- React Hook Form\n- Vitest\n- GitHub Actions CI/CD\n\n---\n\n## Key Features\n1. Group management with invite links\n2. Expense tracking with equal splits\n3. Settlement algorithm (debt graph simplification)\n4. Real-time updates via Socket.io\n5. OAuth (Google) + Credentials auth\n6. Docker deployment\n\n---\n\n## IMPORTANT: CI Workflow File\nOne worker MUST create `.github/workflows/ci.yml` with lint, typecheck, test, and build jobs.\nThis file should be created early in the process to enable PR auto-merging.\n\n---\n\n## Robustness Requirements\n- Money stored as integers (cents)\n- Atomic transactions for financial data\n- Zod validation on all inputs\n- TypeScript strict mode\n\n---\n\n**Note:** 18th attempt. Testing fixed auto-merge logic for Copilot COMMENTED reviews.\nPrevious attempt failed because orchestrator tried to \"address\" Copilot reviews instead\nof auto-merging. Fixed to skip addressReview step and go straight to auto-merge."
  },
  "repo": {
    "owner": "mohsen1",
    "name": "claude-code-orchestrator-e2e-test"
  },
  "phase": "worker_review",
  "workBranch": "cco/421-build-splitsync-expense-sharing-app",
  "baseBranch": "main",
  "ems": [
    {
      "id": 0,
      "task": "Initialize Next.js 14 project with TypeScript strict mode, configure .gitignore, package.json with all dependencies, tsconfig.json, ESLint, Tailwind CSS, and create .github/workflows/ci.yml with lint, typecheck, test, and build jobs. Also create shared TypeScript types file (src/types/index.ts) with core domain types (User, Group, Expense, Settlement).",
      "focusArea": "Project Setup",
      "branch": "cco/issue-421-setup",
      "status": "workers_running",
      "workers": [
        {
          "id": 1,
          "task": "Initialize Next.js 14 project with TypeScript, create package.json with all dependencies, tsconfig.json with strict mode, .gitignore, and configure ESLint with .eslintrc.json",
          "files": [
            "package.json",
            "tsconfig.json",
            ".gitignore",
            ".eslintrc.json",
            "next.config.js",
            "tailwind.config.ts",
            "postcss.config.js"
          ],
          "branch": "cco/issue-421-setup-w-1",
          "status": "merged",
          "reviewsAddressed": 2,
          "startedAt": "2026-01-21T23:18:58.161Z",
          "prNumber": 424,
          "prUrl": "https://github.com/mohsen1/claude-code-orchestrator-e2e-test/pull/424",
          "completedAt": "2026-01-21T23:21:43.690Z",
          "addressedReviewCommentIds": [
            2714700430,
            2714700436
          ],
          "addressedIssueCommentIds": []
        },
        {
          "id": 2,
          "task": "Create shared TypeScript types file with core domain types (User, Group, Expense, Settlement) in src/types/index.ts",
          "files": [
            "src/types/index.ts"
          ],
          "branch": "cco/issue-421-setup-w-2",
          "status": "pr_created",
          "reviewsAddressed": 1,
          "startedAt": "2026-01-21T23:18:52.931Z",
          "prNumber": 423,
          "prUrl": "https://github.com/mohsen1/claude-code-orchestrator-e2e-test/pull/423",
          "completedAt": "2026-01-21T23:20:29.401Z",
          "addressedReviewCommentIds": [
            2714693595,
            2714693625,
            2714693661
          ],
          "addressedIssueCommentIds": []
        },
        {
          "id": 3,
          "task": "Create GitHub Actions CI workflow with lint, typecheck, test, and build jobs in .github/workflows/ci.yml",
          "files": [
            ".github/workflows/ci.yml"
          ],
          "branch": "cco/issue-421-setup-w-3",
          "status": "pr_created",
          "reviewsAddressed": 0,
          "prNumber": 422,
          "prUrl": "https://github.com/mohsen1/claude-code-orchestrator-e2e-test/pull/422",
          "completedAt": "2026-01-21T23:19:25.757Z"
        }
      ],
      "reviewsAddressed": 0,
      "startedAt": "2026-01-21T23:18:09.950Z"
    }
  ],
  "config": {
    "maxEms": 10,
    "maxWorkersPerEm": 3,
    "reviewWaitMinutes": 4,
    "prLabel": "cco"
  },
  "createdAt": "2026-01-21T23:16:44.728Z",
  "updatedAt": "2026-01-21T23:36:48.014Z",
  "analysisSummary": "Build SplitSync, a production-ready expense sharing app with Next.js 14, TypeScript, SQLite/Drizzle, NextAuth, Socket.io, and shadcn/ui. Includes group management, expense tracking, debt settlement algorithm, real-time updates, and Docker deployment with comprehensive CI/CD pipeline.",
  "projectSetup": {
    "completed": false
  },
  "pendingEMs": [
    {
      "id": 1,
      "task": "Create data access layer with repository pattern for Users, Groups, Expenses, and Settlements. Implement CRUD operations with atomic transactions for financial data, proper error handling, and Zod validation schemas.",
      "focusArea": "Data Access Layer",
      "branch": "cco/issue-421-em-1",
      "status": "pending",
      "workers": [],
      "reviewsAddressed": 0
    },
    {
      "id": 2,
      "task": "Build API routes for group management (create, join via invite link, list, update), expense operations (add, list, update, delete), and settlement calculations. Use Zod for request validation and atomic transactions for money operations.",
      "focusArea": "API Routes",
      "branch": "cco/issue-421-em-2",
      "status": "pending",
      "workers": [],
      "reviewsAddressed": 0
    },
    {
      "id": 3,
      "task": "Implement settlement algorithm using debt graph simplification to minimize number of transactions. Calculate optimal payment flows between group members to settle all debts efficiently.",
      "focusArea": "Settlement Algorithm",
      "branch": "cco/issue-421-em-3",
      "status": "pending",
      "workers": [],
      "reviewsAddressed": 0
    },
    {
      "id": 4,
      "task": "Set up Socket.io server for real-time updates on expense additions, group membership changes, and settlement updates. Create event handlers and broadcasting logic for connected clients.",
      "focusArea": "Real-time Updates",
      "branch": "cco/issue-421-em-4",
      "status": "pending",
      "workers": [],
      "reviewsAddressed": 0
    },
    {
      "id": 5,
      "task": "Build reusable UI components using shadcn/ui and React Hook Form: Button, Input, Card, Modal, expense form, group list, expense list, settlement display, and notification toast components.",
      "focusArea": "UI Components",
      "branch": "cco/issue-421-em-5",
      "status": "pending",
      "workers": [],
      "reviewsAddressed": 0
    },
    {
      "id": 6,
      "task": "Create page routes and layouts: landing page, login/signup, dashboard, group detail view with expenses and settlements, and settings page. Implement client-side data fetching with real-time Socket.io integration.",
      "focusArea": "Pages & Views",
      "branch": "cco/issue-421-em-6",
      "status": "pending",
      "workers": [],
      "reviewsAddressed": 0
    },
    {
      "id": 7,
      "task": "Write comprehensive Vitest tests for repositories (with test database isolation), API routes, settlement algorithm, and auth flow. Set up test fixtures, mocks, and coverage reporting.",
      "focusArea": "Testing",
      "branch": "cco/issue-421-em-7",
      "status": "pending",
      "workers": [],
      "reviewsAddressed": 0
    },
    {
      "id": 8,
      "task": "Create Docker configuration with Dockerfile for multi-stage build (production-optimized) and docker-compose.yml for local development with SQLite volume persistence. Also create deployment documentation and environment variable templates.",
      "focusArea": "Docker & Deployment",
      "branch": "cco/issue-421-em-8",
      "status": "pending",
      "workers": [],
      "reviewsAddressed": 0
    }
  ],
  "errorHistory": []
}