# ============================================
# SplitSync Environment Configuration
# ============================================
# Copy this file to .env.local and fill in the values
# Never commit .env.local or any .env files to version control

# ============================================
# Application Settings
# ============================================
NODE_ENV=development
PORT=3000

# Next.js Configuration
NEXT_PUBLIC_APP_NAME=SplitSync
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================
# Database Configuration
# ============================================
# SQLite Database Path
# For local development: file:./data/splitsync.db
# For production: file:/app/data/splitsync.db
DATABASE_URL="file:./data/splitsync.db"

# ============================================
# Authentication - NextAuth.js
# ============================================
# Generate a secure secret with: openssl rand -base64 32
NEXTAUTH_SECRET="your-nextauth-secret-here-generate-with-openssl"
NEXTAUTH_URL="http://localhost:3000"

# Session Configuration
NEXTAUTH_SESSION_MAX_AGE=2592000  # 30 days in seconds
NEXTAUTH_SESSION_UPDATE_AGE=86400  # 1 day in seconds

# ============================================
# OAuth Providers
# ============================================

# Google OAuth
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# ============================================
# Email Configuration (Optional)
# ============================================
# Used for password reset, email verification, and invites
SMTP_HOST="smtp.example.com"
SMTP_PORT=587
SMTP_USER="your-smtp-username"
SMTP_PASSWORD="your-smtp-password"
SMTP_FROM="noreply@splitsync.app"
SMTP_FROM_NAME="SplitSync"

# ============================================
# File Upload Configuration
# ============================================
# Maximum file size for receipts and attachments (in bytes)
# Default: 5MB
NEXT_PUBLIC_MAX_FILE_SIZE=5242880

# Allowed file types
NEXT_PUBLIC_ALLOWED_FILE_TYPES="image/jpeg,image/png,image/gif,image/webgl,application/pdf"

# Upload storage path
UPLOAD_DIR="./public/uploads"

# ============================================
# Real-time Communication - Socket.IO
# ============================================
# Socket.IO server configuration
SOCKET_PORT=3001
SOCKET_PATH=/socket.io

# CORS configuration for Socket.IO
SOCKET_CORS_ORIGIN="http://localhost:3000"

# ============================================
# Rate Limiting
# ============================================
# Requests per minute per IP
RATE_LIMIT_MAX=100

# Window in milliseconds
RATE_LIMIT_WINDOW_MS=60000

# ============================================
# Logging & Monitoring
# ============================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Structured logging format
LOG_FORMAT=json

# Sentry Error Tracking (Optional)
NEXT_PUBLIC_SENTRY_DSN=""
SENTRY_AUTH_TOKEN=""

# ============================================
# Security
# ============================================
# CSRF Token Secret
CSRF_SECRET="your-csrf-secret-generate-with-openssl"

# Webhook Secret (for integrations)
WEBHOOK_SECRET="your-webhook-secret"

# ============================================
# Feature Flags
# ============================================
# Enable/disable features
NEXT_PUBLIC_FEATURE_REGISTRATION=true
NEXT_PUBLIC_FEATURE_EMAIL_AUTH=true
NEXT_PUBLIC_FEATURE_OAUTH=true
NEXT_PUBLIC_FEATURE_REALTIME=true
NEXT_PUBLIC_FEATURE_RECEIPT_UPLOADS=true

# ============================================
# Backup & Maintenance
# ============================================
# Backup retention in days
BACKUP_RETENTION_DAYS=30

# Automated backup schedule (cron format)
BACKUP_SCHEDULE="0 2 * * *"

# Backup storage location
BACKUP_STORAGE_PATH="./backups"

# ============================================
# Analytics (Optional)
# ============================================
# Google Analytics
NEXT_PUBLIC_GA_ID=""

# Posthog Analytics
NEXT_PUBLIC_POSTHOG_KEY=""
NEXT_PUBLIC_POSTHOG_HOST=""

# ============================================
# Development Tools
# ============================================
# Enable debug mode (shows detailed error messages)
DEBUG=false

# Enable source map support
SOURCE_MAP_SUPPORT=false

# ============================================
# Deployment Configuration
# ============================================
# Deployment environment: development, staging, production
DEPLOYMENT_ENV=development

# Health check configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/api/health

# ============================================
# Redis Configuration (Optional - for scaling)
# ============================================
# Uncomment if using Redis for session storage
# REDIS_URL="redis://localhost:6379"
# REDIS_PASSWORD=""

# ============================================
# External Integrations (Optional)
# ============================================
# Stripe for payments (if implementing premium features)
STRIPE_PUBLIC_KEY=""
STRIPE_SECRET_KEY=""
STRIPE_WEBHOOK_SECRET=""

# OpenAI API (if implementing AI features)
OPENAI_API_KEY=""
